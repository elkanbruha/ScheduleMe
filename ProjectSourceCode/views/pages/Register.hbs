<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Register Page</title>
<link rel="stylesheet" href="styles.css" />
<link rel="stylesheet" href="toggle.css" />
</head>
<body>
<div class="wrapper">
<div class="login-container">
<h2>Welcome To ScheduleMe!</h2>
<p>Please sign up to continue</p>
<form id="registerForm" action="/register" method="POST">
<input type="text" name="name" placeholder="Full Name" required />
<input type="email" name="email" placeholder="Email" required />
<input type="password" name="password" placeholder="Password" required />
<!-- Hidden input for account type -->
<input type="hidden" name="type" id="accountType" value="user" />
<!-- Business Name field (initially hidden) -->
<div id="businessNameField" style="display:none;">
<input type="text" name="business_name" placeholder="Business Name" />
</div>
<!-- Customer/Business Toggle -->
<div class="toggle-wrapper">
<label class="toggle">
<div class="toggle-label-container">
<span class="toggle-label customer">Customer</span>
<span class="toggle-label business">Business</span>
</div>
<input type="checkbox" id="accountTypeToggle">
<span class="slider"></span>
</label>
</div>
<button type="submit">Sign Up</button>
</form>
<p>Already have an account? <a href="/login">Log in</a></p>
</div>
</div>
<script>
const toggle = document.querySelector('#accountTypeToggle');
const customerLabel = document.querySelector('.customer');
const businessLabel = document.querySelector('.business');
const accountTypeInput = document.querySelector('#accountType');
const businessNameField = document.querySelector('#businessNameField');
const businessNameInput = document.querySelector('input[name="business_name"]');
const form = document.getElementById('registerForm');

// Set default highlighting
customerLabel.classList.add("highlight");

// Toggle event listener to update the hidden input value dynamically
toggle.addEventListener("change", () => {
  if (toggle.checked) {
    accountTypeInput.value = 'business'; // Business account type
    businessLabel.classList.add("highlight");
    customerLabel.classList.remove("highlight");
    businessNameField.style.display = 'block'; // Show business name field
    businessNameInput.setAttribute('required', ''); // Make business name required
  } else {
    accountTypeInput.value = 'user'; // User account type
    customerLabel.classList.add("highlight");
    businessLabel.classList.remove("highlight");
    businessNameField.style.display = 'none'; // Hide business name field
    businessNameInput.removeAttribute('required'); // Make business name not required
  }
});

</script>
</body>
</html>